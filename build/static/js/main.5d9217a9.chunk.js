(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(e,t,a){},167:function(e,t,a){},238:function(e,t,a){},359:function(e,t,a){},432:function(e,t,a){e.exports=a(805)},451:function(e,t,a){},471:function(e,t,a){},589:function(e,t){},591:function(e,t){},606:function(e,t,a){},805:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"getprofileSuccess",function(){return ct}),a.d(n,"updateprofileSuccess",function(){return st}),a.d(n,"getProfile",function(){return ut}),a.d(n,"updateProfile",function(){return pt});var r={};a.r(r),a.d(r,"requestUserProfilesSuccess",function(){return Lt}),a.d(r,"requestUserProfilesFailure",function(){return It}),a.d(r,"requestUserProfiles",function(){return _t}),a.d(r,"profiles",function(){return Tt});var o=a(0),l=a.n(o),i=a(38),c=a(387),s=a(55),u=a.n(s),p=a(21),d=a(389),m=a(9),f=a.n(m),h=(a(449),a(450),a(451),a(452),a(8)),g=a(32),E=a.n(g),v="FACEBOOK_AUTH_CODE",b="GOOGLE_AUTH_CODE",y="GET_PROFILE_SUCCESS",C="UPDATE_PROFILE_SUCCESS",w="REQUEST_PROFILES",O="REQUEST_PROFILES_SUCCESS",S="REQUEST_PROFILES_FAILURE",j="GET_COMMENTS",A="GET_COMMENTS_FAILURE",R="GET_COMMENTS_SUCCESS",L="CREATE_COMMENT_SUCCESS",I="CREATE_COMMENT_FAILURE",_="CREATE_COMMENT",T="START_EDIT",k="EDIT_SUCCESS",N="EDIT_FAILURE",P="START_DELETE_COMMENT",U="DELETE_COMMENT_SUCCESS",D="DELETE_COMMENT_FAILURE",F=" REPLY_COMMENT_START",x=" REPLY_COMMENT_SUCCESS",G=" REPLY_COMMENT_FAILUIRE";var M={user:{},errors:{},isLoading:!1,success:!1},Y={isLoading:!1,isVerified:!1,isTriggered:!1,failed:!1},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y;switch((arguments.length>1?arguments[1]:void 0).type){case"VERIFY_TRIGGER":return Object(h.a)({},e,{isLoading:!0,isTriggered:!0});case"VERIFY_SUCCESS":return Object(h.a)({},e,{isLoading:!1,isVerified:!0});case"VERIFY_FAIL":return Object(h.a)({},e,{isLoading:!1,failed:!0});default:return e}},H={isSignedUp:!1,isLoading:!1,isVerified:!1},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;switch((arguments.length>1?arguments[1]:void 0).type){case"REGISTER_TRIGGER":return Object(h.a)({},e,{isLoading:!0});case"REGISTER_SUCCESS":return Object(h.a)({},e,{isLoading:!1,isSignedUp:!0});case"REGISTER_FAILED":return Object(h.a)({},e,{isLoading:!1,isSignedUp:!1});default:return e}},B={isLoading:!1,error:!1},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_START":return Object(h.a)({},e,t.payload,{isLoading:!0,message:"fetching user details",error:!1});case"LOGIN_SUCCESS":return Object(h.a)({},e,t.payload,{message:"success",isLoading:!1,error:!1,errors:{}});case"SOCIAL_LOGIN_ERROR":return Object(h.a)({},t.payload,{message:"failed",isLoading:!1,error:!0});default:return e}};var J={isSent:!1,isUpdated:!1,message:{},errors:{}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROVIDE_EMAIL":return Object(h.a)({},e,{isSent:!0,message:t.payload.message});case"REQUEST_EMAIL":return Object(h.a)({},e);case"EMAIL_ERROR":return Object(h.a)({},e,{isSent:!1,errors:t.payload.errors});default:return e}},Q={isSent:!1,isUpdated:!1,message:{},errors:{}},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_UPDATE":return Object(h.a)({},e);case"UPDATE_PASSWORD":return Object(h.a)({},e,{isUpdated:!0,message:t.payload.message});case"UPDATE_ERROR":return Object(h.a)({},e,{isUpdated:!1,errors:t.payload.errors});default:return e}},X={article:{},errors:{},isLoading:!1,isTriggered:!1,isSuccess:!1,isDeleted:!1,isFound:!1,success:!1},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_SINGLE":return Object(h.a)({},e,{isLoading:!0,isTriggered:!0});case"SINGLE_ARTICLE_SUCCESS":return Object(h.a)({},e,{isLoading:!1,articles:n,isSuccess:!0,isFound:!0,isDeleted:!1});case"SINGLE_ARTICLE_FAIL":return Object(h.a)({},e,{isLoading:!1,errors:n,isSuccess:!1,isFound:!1,isDeleted:!0});case"START_UPDATE":return Object(h.a)({},e,{isLoading:!0});case"UPDATE_SUCCESS":return Object(h.a)({},e,{isLoading:!1,articles:n,isSuccess:!0,isUpdated:!0});case"UPDATE_FAIL":return Object(h.a)({},e,{isLoading:!1,errors:n,isSuccess:!1});case"START_DELETE":return Object(h.a)({},e,{isLoading:!0,isSuccess:!1});case"DELETE_SUCCESS":return Object(h.a)({},e,{isLoading:!1,isSuccess:!0,isDeleted:!0,isFound:!1});case"DELETE_FAILED":return Object(h.a)({},e,{isLoading:!1,errors:n,isSuccess:!0});case"ARTICLES_CREATE_TRIGGER":return Object(h.a)({},e,{isLoading:!0,success:!1});case"ARTICLES_CREATE_SUCCESS":return Object(h.a)({},e,{article:t.payload,success:!0,isLoading:!1});case"ARTICLES_CREATE_FAILED":return Object(h.a)({},e,{errors:t.payload,success:!1,isLoading:!1});default:return e}},$={articles:{},errors:{},isLoading:!1,success:!1},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ARTICLES_GET_ALL_TRIGGER":return Object(h.a)({},e,{isLoading:!0,success:!1});case"ARTICLES_GET_ALL_SUCCESS":return Object(h.a)({},e,{articles:t.payload,success:!0,isLoading:!1});case"ARTICLES_GET_ALL_FAILED":return Object(h.a)({},e,{errors:t.payload,success:!1,isLoading:!1});default:return e}},te={comments:[],isFetched:!1,isCreated:!1,creating:!1,isEdited:!1,isDeleted:!1,editing:!1,isReplied:!1,replying:!1};var ae={article:{},errors:{},isLoading:!1,success:!1},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ARTICLES_RATING_TRIGGER":return Object(h.a)({},e,{isLoading:!0,success:!1});case"ARTICLES_RATING_SUCCESS":return Object(h.a)({},e,{article:t.payload,success:!0,isLoading:!1});case"ARTICLES_RATING_FAILED":return Object(h.a)({},e,{errors:t.payload,success:!1,isLoading:!1});default:return e}},re=Object(i.combineReducers)({verify:q,register:V,profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case y:var a=t.data;return Object(h.a)({},e,{profile:a});case C:var n=E()({},e.profile);return n=t.data,Object(h.a)({},e,{profile:n});default:return e}},toastr:m.reducer,login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_REQUEST":return Object(h.a)({},e,{isLoading:!0,success:!1});case"LOGIN_USER":return Object(h.a)({},e,{user:t.payload,success:!0,isLoading:!1});case"LOGIN_ERROR":return Object(h.a)({},e,{errors:t.payload,success:!1,isLoading:!1});default:return e}},socialAuth:z,profiles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:var a=E()({},e.profiles);return a.users=t.payload,a;case S:var n=E()({},e.profiles);return n.state="error",n.error=t.payload,Object(h.a)({},e,{profiles:n});case w:var r=E()({},e.profiles);return Object(h.a)({},e,{profiles:r});default:return e}},searchedProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:var a=E()({},e.searchedProfile);return a=t.data,Object(h.a)({},e,{searchedProfile:a});default:return e}},resetPassword:W,updatePassword:K,article:Z,getAll:ee,getcomments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return E()({},e,{comments:t.payload});case A:return Object(h.a)({},e,{errors:t.payload});case R:return Object(h.a)({},e,{comments:t.payload,isFetched:!0});case _:return Object(h.a)({},e);case I:return Object(h.a)({},e,{errors:t.payload,isCreated:!1});case L:return Object(h.a)({},e,{comment:t.payload,isCreated:!0});case T:return Object(h.a)({},e,{editing:!0});case k:return Object(h.a)({},e,{comment:t.payload,isEdited:!0,editing:!1});case N:return Object(h.a)({},e,{errors:t.payload,isEdited:!1,editing:!1});case P:return Object(h.a)({},e);case D:return Object(h.a)({},e,{errors:t.payload,isDeleted:!1});case U:return Object(h.a)({},e,{delete:t.payload,isDeleted:!0});case F:return Object(h.a)({},e,{replying:!0});case x:return Object(h.a)({},e,{comment:t.payload,isReplied:!1,replying:!1});case G:return Object(h.a)({},e,{errors:t.payload,isReplied:!1,replying:!1});default:return e}},rate:ne}),oe=a(20),le=a(19),ie=a(24),ce=a(22),se=a(23),ue=a(833),pe=a(839),de=a(392),me=a(815),fe=a(829),he=a(828),ge=a(825),Ee=a(258),ve=a.n(Ee),be=localStorage.getItem("token"),ye=ve.a;be&&(ye.defaults.headers={"Content-Type":"application/json",Authorization:"Bearer ".concat(be)}),ve.a.defaults.baseURL="https://cors-anywhere.herokuapp.com/https://ah-bird-box-staging.herokuapp.com";var Ce=ye,we=function(e){return function(t){t({type:"LOGIN_REQUEST"}),delete Ce.defaults.headers.Authorization,localStorage.clear(),Ce.post("/api/users/login/",e).then(function(e){e&&(t({type:"LOGIN_USER",payload:Object(h.a)({},e.data.user,{success:!0})}),m.toastr.success("Successful Login","".concat(e.data.user.username," logged in successfully")))}).catch(function(e){var a=JSON.parse(e.request.response);t({type:"LOGIN_ERROR",payload:a.errors});var n=a.errors.error[0];m.toastr.error("Login Failed",n)})}},Oe=(a(471),function(e){function t(){var e,a;Object(oe.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ie.a)(this,(e=Object(ce.a)(t)).call.apply(e,[this].concat(r)))).logout=function(){localStorage.removeItem("user"),localStorage.removeItem("token"),localStorage.removeItem("username"),window.location.assign("/")},a.signUp=function(){window.location.assign("/register")},a.createArticle=function(){window.location.assign("/article")},a.headHome=function(e){e.preventDefault(),window.location.assign("/")},a.handleProfile=function(e){e.preventDefault(),window.location.assign("/getprofile")},a}return Object(se.a)(t,e),Object(le.a)(t,[{key:"render",value:function(){var e=window.localStorage.getItem("token");return l.a.createElement(l.a.Fragment,null,l.a.createElement(fe.a,{pointing:!0,secondary:!0,fixed:"top",className:"top-menu"},l.a.createElement(me.a,{to:"/",onClick:this.headHome},l.a.createElement(fe.a.Item,{name:"Author's Haven",className:"brand"})),l.a.createElement(fe.a.Menu,{position:"right"},e?l.a.createElement(l.a.Fragment,null,l.a.createElement(fe.a.Item,{className:"create-article"},l.a.createElement(he.a,{primary:!0,onClick:this.createArticle},"Create Article")),l.a.createElement(ge.a,{item:!0,text:window.localStorage.getItem("username")},l.a.createElement(ge.a.Menu,null,l.a.createElement(me.a,{to:"/getprofile",onClick:this.handleProfile},l.a.createElement(fe.a.Item,{name:"Profile"})),l.a.createElement(me.a,{to:"/profiles"},l.a.createElement(fe.a.Item,{name:"View authors"})),l.a.createElement(me.a,{to:"/"},l.a.createElement(fe.a.Item,{onClick:this.logout,name:"Logout"}))))):l.a.createElement(l.a.Fragment,null,l.a.createElement(me.a,{to:"/login"},l.a.createElement(fe.a.Item,{name:"Login"})),l.a.createElement(fe.a.Item,null,l.a.createElement(he.a,{primary:!0,onClick:this.signUp},"Sign Up"))))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null))}}]),t}(o.Component)),Se=Object(p.connect)(function(e){return{user:e.login}},{loginUser:we})(Oe),je=a(822),Ae=a(187),Re=a(824),Le=a(402),Ie=a.n(Le),_e=a(403),Te=(a(606),function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"spinner-grow text-primary",role:"status"},l.a.createElement("span",{className:"sr-only"},"Loading...")))}),ke=(a(167),function(e){function t(){var e,a;Object(oe.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ie.a)(this,(e=Object(ce.a)(t)).call.apply(e,[this].concat(r)))).state={activePage:1},a.displayText=function(e){return e.split(/\s+/).slice(0,50).join(" ")},a.handlePagination=function(e,t){var n=t.activePage;a.setState({activePage:n},function(){var e=a.state.activePage;(0,a.props.getArticles)(e),a.setState({activePage:e})})},a}return Object(se.a)(t,e),Object(le.a)(t,[{key:"componentDidMount",value:function(){this.props.getArticles()}},{key:"componentWillReceiveProps",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){if(this.props.articles.isLoading)return l.a.createElement(Te,null);var e,t=this.props.articles,a=this.state.activePage;return t&&t.success&&(e=t.articles.article.results.map(function(e){return l.a.createElement(je.a,{className:"article-container"},l.a.createElement(je.a.Image,{className:"image",src:e.image_url?e.image_url:"https://picsum.photos/500/300/?random",alt:"cover_image"}),l.a.createElement(je.a.Content,null,l.a.createElement(je.a.Header,{as:"a"},l.a.createElement("a",{className:"article-title",href:"/articles/".concat(e.slug)},e.title)),l.a.createElement(_e.a,{lines:6},l.a.createElement("p",{className:"article-description"},Ie()(e.description))),l.a.createElement(je.a.Extra,null,l.a.createElement(Ae.a,null,"Created by: ".concat(e.author)),l.a.createElement(Ae.a,null,"Created on: ",e.created_at.slice(0,11)))))})),l.a.createElement("div",null,l.a.createElement("div",{className:"authors-haven-header"},l.a.createElement("p",null,"Author's Haven"),l.a.createElement("p",null,"A Social platform for the creative at heart.")),l.a.createElement("div",{id:"articles-list-container"},l.a.createElement(je.a.Group,null,e),t.success&&t.articles.article.count>10&&l.a.createElement("div",null,l.a.createElement(Re.a,{id:"pagination",totalPages:Math.ceil(t.articles.article.count/10),activePage:a,onPageChange:this.handlePagination}))))}}]),t}(o.Component)),Ne=Object(p.connect)(function(e){return{articles:e.getAll}},{getArticles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){t({type:"ARTICLES_GET_ALL_TRIGGER"}),Ce.get("/api/articles/?page=".concat(e),e).then(function(e){t({type:"ARTICLES_GET_ALL_SUCCESS",payload:e.data})}).catch(function(e){t({type:"ARTICLES_GET_ALL_FAILED",payload:e})})}}})(ke),Pe=a(36),Ue=a(832),De=a(831),Fe=a(819),xe=a(836),Ge=a(827),Me=a(816),Ye=a(142);Ye.initializeApp({apiKey:"AIzaSyBNe0bx4gYG6OaVIUHkDPy_ej0DidTl4lU",authDomain:"ah-bird-box.firebaseapp.com"});var qe=Ye.auth(),He=new Ye.auth.GoogleAuthProvider,Ve=new Ye.auth.FacebookAuthProvider,Be=function(e){var t=e.provider,a=e.providerName,n=e.type,r=e.className,o=e.icon,i=e.loading,c=e.retrieveSocialAuthData;return l.a.createElement(he.a,{circular:!0,type:n,className:r,icon:o,loading:i,onClick:function(){return c(t,a,n)}})};Be.defaultProps={provider:null};var ze=Be,Je=function(e){function t(e){var a;return Object(oe.a)(this,t),(a=Object(ie.a)(this,Object(ce.a)(t).call(this,e))).retrieveSocialAuthData=function(e,t,n){qe.signInWithPopup(e).then(function(e){return{type:n,payload:{authData:{provider:t,accessToken:e.credential.accessToken},userDetails:{name:e.user.displayName,photo:e.user.photoURL,email:e.user.email}}}}).then(function(e){localStorage.setItem("username",e.payload.userDetails.name);var t=e.payload.authData,n=e.payload.userDetails,r={};r.provider=t.provider,r.access_token=t.accessToken;var o=a.props.socialAuthLogin,l={};l.authData=r,l.userDetails=n,o(l)}).catch(function(){m.toastr.error("Your email has are already been used to log in with another service")})},a.displaySocialLoginButtons=function(e,t){return l.a.createElement("div",null,e.map(function(e){return l.a.createElement(ze,{key:e.name,Provider:e.provider,providerName:e.name,type:e.type,className:e.class_name,buttonClass:e.button_class,loading:t,retrieveSocialAuthData:function(){a.retrieveSocialAuthData(e.provider,e.name,e.type)},icon:e.icon,color:e.color})}))},a.state={providers:[{provider:Ve,type:v,name:"facebook",class_name:"facebook",icon:"facebook f",color:"vk"},{provider:He,type:b,name:"google-oauth2",class_name:"google",icon:"google",color:"google plus"}]},a}return Object(se.a)(t,e),Object(le.a)(t,[{key:"componentWillReceiveProps",value:function(e){if("success"===e.socialAuth.message&&!e.socialAuth.isLoading)return m.toastr.success("".concat(localStorage.getItem("username")," logged in successfully")),setInterval(function(){window.location.assign("/")},2e3)}}]),Object(le.a)(t,[{key:"render",value:function(){var e=this.state.providers,t=this.props.socialAuth,a=t.isLoading;return l.a.createElement("div",null,t.error?m.toastr.error(t.errors):null,l.a.createElement("div",null,this.displaySocialLoginButtons(e,a)))}}]),t}(o.Component),We=Object(Me.a)(Object(p.connect)(function(e){return{socialAuth:e.socialAuth}},function(e){return{socialAuthLogin:function(t){return e((a=t,function(e){var t=a.authData;delete Ce.defaults.headers,Ce.post("/api/social/login/",t).then(function(t){e({type:"LOGIN_SUCCESS",payload:t.data}),localStorage.setItem("token",t.data.user.token),localStorage.setItem("username",t.data.user.username),localStorage.setItem("id",t.data.user.id)}).catch(function(t){e({type:"SOCIAL_LOGIN_ERROR",payload:t.response.data})})}));var a}}})(Je)),Qe=function(e){function t(){var e,a;Object(oe.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ie.a)(this,(e=Object(ce.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){e.preventDefault();var t=a.state,n={email:t.email,password:t.password};(0,a.props.loginUser)(n)},a.onChange=function(e){return a.setState(Object(Pe.a)({},e.target.name,e.target.value))},a}return Object(se.a)(t,e),Object(le.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props.user;e.user&&e.user.success&&(localStorage.setItem("username",e.user.username),localStorage.setItem("token",e.user.token),localStorage.setItem("id",e.user.id),window.location.assign("/"))}},{key:"render",value:function(){return l.a.createElement("div",{className:"login-form"},l.a.createElement("style",null,"\n          body > div,\n          body > div > div,\n          body > div > div > div.login-form {\n            height: 100%;\n          }\n        "),l.a.createElement(Ue.a,{textAlign:"center",style:{height:"100%"},verticalAlign:"middle"},l.a.createElement(Ue.a.Column,{style:{maxWidth:550}},l.a.createElement(De.a,{as:"h2",color:"green",textAlign:"center"},"Log-in to Author's Haven"),l.a.createElement(Fe.a,null,l.a.createElement(xe.a,null,l.a.createElement(De.a,{textAlign:"center",as:"h3"},l.a.createElement("br",null),"Login here"),l.a.createElement("br",null),l.a.createElement(Fe.a.Input,{icon:"user",iconPosition:"left",name:"email",placeholder:"Email",type:"email",onChange:this.onChange}),l.a.createElement(Fe.a.Input,{icon:"lock",iconPosition:"left",type:"password",name:"password",placeholder:"Password",onChange:this.onChange}),l.a.createElement(he.a,{fluid:!0,content:"Login",type:"submit",className:"ui green button",onClick:this.onSubmit}),l.a.createElement("br",null),l.a.createElement("p",null,"Forgot Password? Click ",l.a.createElement("a",{href:"/reset-password"},"here")))),l.a.createElement("br",null),l.a.createElement("p",null,"or login with"),l.a.createElement(We,null),l.a.createElement(Ge.a,null,"New to us?"," ",l.a.createElement("a",{href:"/register"},"Sign up")))))}}]),t}(o.Component),Ke=Object(p.connect)(function(e){return{user:e.login}},{loginUser:we})(Qe),Xe=a(259),Ze=a(423),$e=a(820),et=a(98),tt=a(823),at=a(138),nt=a(37),rt=a.n(nt),ot=a(47),lt=localStorage.getItem("token"),it=function(){function e(){Object(oe.a)(this,e)}return Object(le.a)(e,null,[{key:"profile",value:function(e){return Ce.get("api/profiles/".concat(e,"/")).then(function(e){if(200===e.status)return{content:e.data}}).catch(function(e){throw e})}},{key:"updateProfile",value:function(e,t){return Ce.put("api/profiles/edit/".concat(e,"/"),Object(h.a)({},t),{headers:{Authorization:"Bearer ".concat(lt),"Content-Type":"application/json"}}).then(function(e){if(200===e.status)return m.toastr.success("Profile updated successfully"),window.location.assign("/getprofile"),{content:e.data}}).catch(function(e){return 403===e.response.status?(m.toastr.error(e.response.data.profile.detail),{content:e.response.data}):401===e.response.status?(m.toastr.error("You have been logged out. Please log in and try again"),window.location.assign("/login"),{content:e.response.data}):400===e.response.status?(m.toastr.error(e.response.data.profile.errors.website[0]),setInterval(function(){window.location.reload()},2e3),{content:e.response.data}):void 0})}}]),e}(),ct=function(e){return{type:y,data:e}},st=function(e){return{type:C,data:e}},ut=function(e){return function(){var t=Object(ot.a)(rt.a.mark(function t(a){return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,it.profile(e).then(function(e){e.content&&a(ct(e.content.profile))});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},pt=function(e,t){return function(a){it.updateProfile(e,t).then(function(e){e.content&&a(st(e.content.profile))})}},dt=(a(128),localStorage.getItem("username")),mt=function(e){function t(e){var a;return Object(oe.a)(this,t),(a=Object(ie.a)(this,Object(ce.a)(t).call(this,e))).onSubmit=function(){var e=a.props.actions,t=a.state.form;e.updateProfile(dt,t)},a.state={form:{bio:e.profile.bio,company:e.profile.company,image:e.profile.image,location:e.profile.location,phone:e.profile.phone,username:e.profile.username,website:e.profile.website}},a.onChange=a.onChange.bind(Object(at.a)(Object(at.a)(a))),a}return Object(se.a)(t,e),Object(le.a)(t,[{key:"onChange",value:function(e){this.setState({form:Object(h.a)({},this.state.form,Object(Pe.a)({},e.target.name,e.target.value))})}},{key:"render",value:function(){var e=this.state.form;return l.a.createElement(Ue.a.Row,{className:"uicontainer"},l.a.createElement(De.a,{className:"profile__info"},"Edit Your Profile Details"),l.a.createElement(Fe.a,{onSubmit:this.onSubmit,className:"test-form"},l.a.createElement(Ue.a,{id:"grid_system",centered:!0,columns:3},l.a.createElement("h2",null,e.username),l.a.createElement(Ue.a.Column,null,l.a.createElement(Ze.a,{className:"profile__image",type:"file",circular:!0,size:"small",src:e.image,floated:"right",style:{width:"130px",height:"130px"}}))),l.a.createElement(Fe.a.Field,null,l.a.createElement("input",{type:"file",onChange:this.fileHandler,style:{width:"200px"}})),l.a.createElement(Fe.a.Field,null,l.a.createElement("label",null,"Bio"),l.a.createElement("input",{name:"bio",placeholder:"Enter bio ...",value:e.bio,onChange:this.onChange,required:!0})),l.a.createElement(Fe.a.Field,null,l.a.createElement("label",null,"Company Name"),l.a.createElement("input",{name:"company",placeholder:"Enter your company name ...",value:e.company,onChange:this.onChange,required:!0})),l.a.createElement(Fe.a.Field,null,l.a.createElement("label",null,"Location"),l.a.createElement("input",{name:"location",placeholder:"Enter your location ...",value:e.location,onChange:this.onChange,required:!0})),l.a.createElement(Fe.a.Field,null,l.a.createElement("label",null,"Phone Number"),l.a.createElement("input",{name:"phone",placeholder:"Enter your phone number ...",value:e.phone,onChange:this.onChange,required:!0})),l.a.createElement(Fe.a.Field,null,l.a.createElement("label",null,"Website"),l.a.createElement("input",{name:"website",placeholder:"Enter your website name ...",value:e.website,onChange:this.onChange,required:!0})),l.a.createElement(he.a,{type:"submit",color:"green"},"Update")))}}]),t}(l.a.Component);var ft=Object(p.connect)(function(e){return{profile:e.profile.profile}},function(e){return{actions:Object(i.bindActionCreators)(n,e)}})(mt),ht=function(){function e(){Object(oe.a)(this,e)}return Object(le.a)(e,null,[{key:"getUsers",value:function(){return Ce.get("/api/profiles/?limit=123456789").then(function(e){if(200===e.status)return e}).catch(function(e){401===e.status?(f.a.error("You have been logged out. Please log in and try again"),window.location.assign("/")):500!==e.response.status&&504!==e.response.status||(f.a.info("Please try again after some time"),window.location.assign("/profile"))})}},{key:"retrieveSpecificProfile",value:function(e){return Ce.get("/api/profiles/".concat(e)).then(function(e){if(200===e.status)return e})}},{key:"retrieveUserFollowers",value:function(e){return Ce.get("/api/profiles/".concat(e,"/following/")).then(function(e){if(200===e.status)return{data:e.data}}).catch(function(e){401===e.response.status?(f.a.error("You have been logged out. Please log in and try again"),window.location.assign("/login")):500!==e.response.status&&504!==e.response.status||(f.a.info("Please try again after some time"),window.location.assign("/login"))})}}]),e}(),gt=localStorage.getItem("username"),Et=function(e){function t(){var e,a;Object(oe.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ie.a)(this,(e=Object(ce.a)(t)).call.apply(e,[this].concat(r)))).state={fetched:!1,followers:[],following:[]},a}return Object(se.a)(t,e),Object(le.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.actions.getProfile(gt).then(function(){e.setState({fetched:!0})}),ht.retrieveUserFollowers(gt).then(function(t){e.setState({followers:t.data.Followers,following:t.data.Following})})}},{key:"render",value:function(){if(!this.state.fetched)return l.a.createElement(Te,null);var e=this.props.profile;return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(Ue.a,{id:"grid_system",centered:!0,columns:3},l.a.createElement("h2",{id:"username"},e.username," "),l.a.createElement(Ue.a.Column,null,l.a.createElement(Ze.a,{className:"profile__image",circular:!0,size:"small",src:"https://picsum.photos/200/300",floated:"right",style:{width:"130px",height:"130px"}}),l.a.createElement($e.a,{trigger:l.a.createElement(he.a,null,"Edit Profile"),closeIcon:!0,className:"modal close"},l.a.createElement($e.a.Content,null,l.a.createElement(ft,null))))),l.a.createElement("div",{className:"row",id:"followers"},l.a.createElement("h5",{className:"col-sm-6"},l.a.createElement(et.a,{className:"users icon"}),l.a.createElement(Xe.a,{to:"/profiles"},"Following")," ".concat(this.state.followers.length)),l.a.createElement("h5",{className:"col-sm-6"},l.a.createElement(et.a,{className:"users icon"}),"Followers"," ".concat(this.state.following.length))),l.a.createElement("h4",{id:"personal-info"},"Personal Info"),l.a.createElement(tt.a,{basic:"very",celled:!0,collapsing:!0,id:"pull-right"},l.a.createElement(tt.a.Body,null,l.a.createElement(tt.a.Row,null),l.a.createElement(tt.a.Row,null,l.a.createElement(tt.a.Cell,{className:"padding"},"Bio"),l.a.createElement(tt.a.Cell,null,e.bio)),l.a.createElement(tt.a.Row,null,l.a.createElement(tt.a.Cell,{className:"padding"},"Location"),l.a.createElement(tt.a.Cell,null,e.location)),l.a.createElement(tt.a.Row,null,l.a.createElement(tt.a.Cell,{className:"padding"},"Company"),l.a.createElement(tt.a.Cell,null,e.company)),l.a.createElement(tt.a.Row,null,l.a.createElement(tt.a.Cell,{className:"padding"},"Phone"),l.a.createElement(tt.a.Cell,null,e.phone)),l.a.createElement(tt.a.Row,null,l.a.createElement(tt.a.Cell,{className:"padding"},"Website"),l.a.createElement(tt.a.Cell,null,e.website))))))}}]),t}(l.a.Component);var vt=Object(p.connect)(function(e){return{profile:e.profile.profile}},function(e){return{actions:Object(i.bindActionCreators)(n,e)}})(Et),bt=(a(238),a(835)),yt=function(e){function t(){var e,a;Object(oe.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ie.a)(this,(e=Object(ce.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){a.setState(Object(Pe.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t={username:a.state.username,email:a.state.email,password:a.state.password};a.state.password!==a.state.confirmPassword?m.toastr.error("Passwords do not match"):a.props.signUpUser(t)},a}return Object(se.a)(t,e),Object(le.a)(t,[{key:"render",value:function(){return!0===this.props.register.isSignedUp?l.a.createElement(bt.a,{to:"/verifymail"}):l.a.createElement("div",{className:"card w-50 signup-div"},l.a.createElement("div",{className:"card-header"},l.a.createElement("h2",{className:"text-center"},"Sign Up")),l.a.createElement("div",{className:"card-body"},l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"username",className:"floatLabel"},"Username"),l.a.createElement("input",{onChange:this.handleChange,id:"username",className:"form-control",name:"username",type:"text",required:!0}),l.a.createElement("label",{htmlFor:"Email",className:"floatLabel"},"Email"),l.a.createElement("input",{onChange:this.handleChange,id:"Email",className:"form-control",name:"email",type:"email",required:!0}),l.a.createElement("label",{htmlFor:"password",className:"floatLabel"},"Password"),l.a.createElement("input",{onChange:this.handleChange,id:"password",className:"form-control",name:"password",type:"password",required:!0}),l.a.createElement("label",{htmlFor:"confirm_password",className:"floatLabel"},"Confirm Password"),l.a.createElement("input",{id:"confirm_password",onChange:this.handleChange,className:"form-control",name:"confirmPassword",type:"password",required:!0}),l.a.createElement("input",{type:"submit",value:"Sign Up",className:"btn btn-primary btn-lg",id:"submit"})),l.a.createElement("span",null,"Already have an account?"," ",l.a.createElement("a",{href:"/login"},"Login")))))}}]),t}(o.Component),Ct=Object(p.connect)(function(e){return{register:e.register}},{signUpUser:function(e){return function(t){t({type:"REGISTER_TRIGGER"}),Ce.post("/api/users/",e).then(function(e){t({type:"REGISTER_SUCCESS",payload:e.data}),m.toastr.success("Sign Up successful!",e.data.user.message)}).catch(function(e){t({type:"REGISTER_FAILED",payload:e.response.data}),void 0!==e.response.data.errors.email?m.toastr.error("Email",e.response.data.errors.email[0]):void 0!==e.response.data.errors.username?m.toastr.error("Username",e.response.data.errors.username[0]):void 0!==e.response.data.errors.password&&m.toastr.error("Password",e.response.data.errors.password[0])})}}})(yt),wt=function(){return l.a.createElement("div",{className:"jumbotron container",id:"verify-mail-notif"},"Your account has been created successfully, please verify your email then"," ",l.a.createElement("a",{href:"/login"},"login"))},Ot=function(e){return function(t){t({type:"VERIFY_TRIGGER"}),Ce.get("/api/users/verify/".concat(e)).then(function(e){t({type:"VERIFY_SUCCESS",payload:e.data}),m.toastr.success("You can now login",e.data.message)}).catch(function(e){t({type:"VERIFY_FAIL",payload:e.response.data}),m.toastr.error("Email verification failed","Request for another verification link")})}},St=Object(p.connect)(function(e){return{verify:e.verify}},{verifyEmail:Ot})(function(e){if(!1===e.verify.isTriggered){var t=window.location.href.split("/"),a=t[t.length-1];e.verifyEmail(a)}return e.verify.isVerified?l.a.createElement(bt.a,{to:"/login"}):e.verify.failed?l.a.createElement(bt.a,{to:"/register"}):null}),jt=a(826),At=a(417),Rt=a.n(At),Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:O,payload:e}},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:S,payload:e}},_t=function(){return{type:w}},Tt=function(){return function(){var e=Object(ot.a)(rt.a.mark(function e(t){return rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(_t()),e.next=3,ht.getUsers().then(function(e){t(e?Lt(e.data.profile):It(e.error))});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},kt=localStorage.getItem("token"),Nt=function(){function e(){Object(oe.a)(this,e)}return Object(le.a)(e,null,[{key:"follow",value:function(e){return Ce.post("/api/profiles/".concat(e,"/follow/"),{headers:{Authorization:"Bearer ".concat(kt),"Content-Type":"application/json"}}).then(function(t){if(200===t.status)return m.toastr.success("You have successfully followed ".concat(e)),t}).catch(function(t){401===t.response.status?m.toastr.error("Please login to follow ".concat(e)):400===t.response.status?m.toastr.warning("You have already followed this user and you cannot follow yourself"):500===t.response.status||504===t.response.status?m.toastr.info("Please try again after some time"):406===t.response.status&&m.toastr.error("You have alraedy followed this user and you cannot follow your self")})}},{key:"unFollow",value:function(e){return Ce.delete("/api/profiles/".concat(e,"/follow/")).then(function(t){if(200===t.status)return m.toastr.success("You have successfully unfollowed ".concat(e)),t}).catch(function(e){401===e.status?(m.toastr.error("You have been logged out. Please log in and try again"),window.location.assign("/")):500!==e.status&&504!==e.status||(m.toastr.info("Please try again after some time"),window.location.assign("/profiles"))})}}]),e}(),Pt=function(e){var t=e.profile,a=e.unFollowClick,n=e.followers,r=e.followClick,o=!1;return n.forEach(function(e){e.username===t.username&&(o=!0)}),l.a.createElement("div",{className:"col-sm-4"},l.a.createElement(jt.a,{id:"card"},l.a.createElement(Ze.a,{src:"https://picsum.photos/200/300?image=0"}),l.a.createElement(jt.a.Content,null,l.a.createElement(jt.a.Header,null,t.username),l.a.createElement(jt.a.Meta,null,l.a.createElement("span",{className:"date"},"Joined in 2019")),l.a.createElement(jt.a.Description,null,t.bio)),o?l.a.createElement(he.a,{id:"edit",onClick:function(e){return a(e,t)},compact:!0},"unfollow"):l.a.createElement(he.a,{id:"edit",onClick:function(e){return r(e,t)},compact:!0},"follow")))},Ut=localStorage.getItem("username"),Dt=function(e){function t(e){var a;return Object(oe.a)(this,t),(a=Object(ie.a)(this,Object(ce.a)(t).call(this,e))).followClick=function(e,t){return a.setState({follow:!0}),Nt.follow(t.username)},a.unFollowClick=function(e,t){return Nt.unFollow(t.username)},a.state={showProfile:!1,followStatus:"Follow",followers:[],following:[]},a}return Object(se.a)(t,e),Object(le.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.actions.listProfiles.profiles().then(function(){e.setState({showProfile:!0})}),ht.retrieveUserFollowers(Ut).then(function(t){e.setState({followers:t.data.Followers,following:t.data.Following})})}},{key:"render",value:function(){var e=this;if(!this.state.showProfile)return l.a.createElement("div",null,l.a.createElement(Te,null));var t=this.props.profiles,a=this.state,n=a.followStatus,r=a.following,o=a.followers;return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("div",{className:"container"},l.a.createElement("h2",null,"profiles"),l.a.createElement("div",{className:"row"},t.map(function(t){return l.a.createElement(Pt,{key:Rt()(),profile:t,followStatus:n,following:r,followers:o,followClick:e.followClick,unFollowClick:e.unFollowClick})})))))}}]),t}(l.a.Component);var Ft=Object(p.connect)(function(e){return{profiles:e.profiles.users}},function(e){return{actions:{listProfiles:Object(i.bindActionCreators)(r,e)}}})(Dt),xt=(a(359),function(e){return function(t){t({type:"REQUEST_EMAIL"}),Ce.post("/api/users/reset_password/",e).then(function(e){t({type:"PROVIDE_EMAIL",payload:e.data.user}),m.toastr.success(e.data.user.message)}).catch(function(e){var a=JSON.parse(e.request.response);t({type:"EMAIL_ERROR",payload:a}),void 0!==a.user.message?m.toastr.error(a.user.message):void 0!==a.errors.message&&m.toastr.error(a.errors.message)})}}),Gt=function(e){function t(){var e,a;Object(oe.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ie.a)(this,(e=Object(ce.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){a.setState(Object(Pe.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t={email:a.state.email};a.props.addEmail(t)},a}return Object(se.a)(t,e),Object(le.a)(t,[{key:"componentWillReceiveProps",value:function(e){!0===e.resetPassword.isSent&&setInterval(function(){window.location.assign("/updatepassword")},1500)}},{key:"render",value:function(){return l.a.createElement("div",{className:"reset-password"},l.a.createElement(xe.a,null,l.a.createElement(Fe.a,{onSubmit:this.onSubmit},l.a.createElement(De.a,{textAlign:"center",as:"h2",color:"green"},l.a.createElement("br",null),"Reset Password"),l.a.createElement(Fe.a.Input,{icon:"user",iconPosition:"left",label:"Email",name:"email",type:"email",placeholder:"Enter your email...",required:!0,onChange:this.onChange}),l.a.createElement(he.a,{type:"submit",fluid:!0,content:"Send Email",className:"ui green button"}),l.a.createElement("br",null))))}}]),t}(o.Component),Mt=Object(p.connect)(function(e){return{resetPassword:e.resetPassword}},{resetPasswordReducer:W,addEmail:xt})(Gt),Yt=function(){return l.a.createElement("div",{className:"jumbotron container",id:"verify-mail-notif"},"Your password reset request is successful, please set your new password then"," ",l.a.createElement("a",{href:"/login"},"login"))},qt=function(e,t){return function(a){a({type:"REQUEST_UPDATE"}),Ce.put("/api/users/update_password/".concat(t),e).then(function(e){a({type:"UPDATE_PASSWORD",payload:e.data}),m.toastr.success(e.data.message)}).catch(function(e){var t=JSON.parse(e.request.response);a({type:"UPDATE_ERROR",payload:t}),void 0!==t.message?m.toastr.error(t.message):void 0!==t.errors.password[0]&&m.toastr.error(t.errors.password[0])})}},Ht=function(e){function t(){var e,a;Object(oe.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ie.a)(this,(e=Object(ce.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){a.setState(Object(Pe.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t={password:a.state.password,confirm_password:a.state.confirm_password},n=a.props.match.params.token,r=a.state.password;a.state.password!==a.state.confirm_password?m.toastr.error("Your passwords do not match"):r.match(/^(?=.{8,}$)(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9]).*/)?a.props.updatePass(t,n):m.toastr.error("Password should be at least 8 characters with an uppercase, lowecase, digit and a special character")},a}return Object(se.a)(t,e),Object(le.a)(t,[{key:"componentWillReceiveProps",value:function(e){!0===e.updatePassword.isUpdated&&setInterval(function(){window.location.assign("/login")},2500)}},{key:"render",value:function(){return l.a.createElement("div",{className:"reset-password"},l.a.createElement(xe.a,null,l.a.createElement(Fe.a,{onSubmit:this.onSubmit},l.a.createElement(De.a,{textAlign:"center",as:"h2",color:"green"},l.a.createElement("br",null),"Update Password"),l.a.createElement(Fe.a.Input,{label:"Password",name:"password",type:"password",placeholder:"Enter you new password",required:!0,onChange:this.onChange}),l.a.createElement(Fe.a.Input,{label:"Confirm Password",name:"confirm_password",type:"password",placeholder:"Enter your new password again",required:!0,onChange:this.onChange}),l.a.createElement(he.a,{type:"submit",fluid:!0,content:"Reset",className:"ui green button"}),l.a.createElement("br",null))))}}]),t}(o.Component),Vt=Object(p.connect)(function(e){return{updatePassword:e.updatePassword}},{updatePasswordReducer:W,updatePass:qt})(Ht),Bt=a(418),zt=a.n(Bt),Jt=function(e){return{type:"SINGLE_ARTICLE_FAIL",payload:e}},Wt=function(e){return{type:"SINGLE_ARTICLE_SUCCESS",payload:e}},Qt=function(e){return function(t){t({type:"FETCH_SINGLE"}),Ce.get("/api/articles/".concat(e)).then(function(e){t(Wt(e.data.article))}).catch(function(e){try{t(Jt(e.response.data.article.errors.error)),m.toastr.error("Article not found",e.response.data.article.errors.error)}catch(a){window.location.assign("/")}})}},Kt=Object(p.connect)(function(e){return{article:e.article}})(function(e){return l.a.createElement("div",{className:"like-dislike"},e.article.isSuccess&&e.article.articles.liked_by.includes(parseInt(localStorage.getItem("id")))?l.a.createElement(he.a,{id:"like-button",color:"green",content:"Like",icon:"thumbs up outline icon",onClick:e.handleLike,label:{basic:!0,color:"green",pointing:"left",content:e.article.articles.likes_count}}):l.a.createElement(he.a,{id:"like-button",content:"Like",icon:"thumbs up outline icon",onClick:e.handleLike,label:{pointing:"left",content:e.article.articles.likes_count}}),e.article.isSuccess&&e.article.articles.disliked_by.includes(parseInt(localStorage.getItem("id")))?l.a.createElement(he.a,{id:"dislike-button",color:"red",content:"Dislike",icon:"thumbs down outline icon",onClick:e.handleDislike,label:{as:"a",color:"red",pointing:"left",content:e.article.articles.dislikes_count}}):l.a.createElement(he.a,{id:"dislike-button",content:"Dislike",icon:"thumbs down outline icon",onClick:e.handleDislike,label:{as:"a",pointing:"left",content:e.article.articles.dislikes_count}}))}),Xt=a(821),Zt=localStorage.getItem("token"),$t=function(){function e(){Object(oe.a)(this,e)}return Object(le.a)(e,null,[{key:"getComments",value:function(e){return Ce.get("/api/articles/".concat(e,"/comments/")).then(function(e){if(200===e.status)return e}).catch(function(t){401===t.status?(m.toastr.error("You have been logged out. Please log in and try again"),window.location.assign("/")):500!==t.response.status&&504!==t.response.status||(m.toastr.info("Please try again after some time"),window.location.assign("/articles/".concat(e)))})}},{key:"createComment",value:function(e,t){return Ce.post("/api/articles/".concat(e,"/comments/"),{body:t},{headers:{Authorization:"Bearer ".concat(Zt),"Content-Type":"application/json"}}).then(function(t){if(201===t.status)return m.toastr.success("Comment added successfully"),window.location.assign("/articles/".concat(e)),{content:t.data}}).catch(function(e){return 400===e.response.status?(m.toastr.error(e.response.data.errors.body),{content:e.response}):401===e.response.status?(m.toastr.error("You have been logged out. Please log in and try again"),window.location.assign("/login"),{content:e.response}):403===e.response.status?(m.toastr.error(e.response.data.detail),window.location.assign("/login"),{content:e.response}):void 0})}},{key:"editComments",value:function(e,t,a){return Ce.put("/api/articles/".concat(e,"/comments/").concat(t,"/"),{body:a},{headers:{Authorization:"Bearer ".concat(Zt),"Content-Type":"application/json"}}).then(function(t){if(200===t.status)return m.toastr.success("Comment updated successfully"),window.location.assign("/articles/".concat(e)),{content:t.data}}).catch(function(e){return 403===e.response.status?(m.toastr.error(e.response.data.detail),window.location.assign("/login"),{content:e.response}):500!==e.response.status||a?void 0:(m.toastr.error("Comment body can not be empty"),{content:e.response})})}},{key:"deleteComment",value:function(e){var t=e.articleSlug,a=e.commentId;return Ce.delete("/api/articles/".concat(t,"/comments/").concat(a,"/")).then(function(e){if(200===e.status)return m.toastr.success("Comment deleted successfully"),window.location.assign("/articles/".concat(t)),e}).catch(function(e){401===e.status?(m.toastr.error("You have been logged out. Please log in and try again"),window.location.assign("/")):500!==e.response.status&&504!==e.response.status||(m.toastr.info("Please try again after some time"),window.location.assign("/articles/".concat(t)))})}},{key:"replyComment",value:function(e,t,a){return Ce.post("/api/articles/".concat(e,"/comments/").concat(t,"/"),Object(h.a)({},a)).then(function(t){if(201===t.status)return m.toastr.success("reply sent successfully"),window.location.assign("/articles/".concat(e)),t}).catch(function(t){401===t.status?(m.toastr.error("You have been logged out. Please log in and try again"),window.location.assign("/")):500!==t.response.status&&504!==t.response.status||(m.toastr.info("Please try again after some time"),window.location.assign("/articles/".concat(e)))})}}]),e}(),ea=function(e){return function(){var t=Object(ot.a)(rt.a.mark(function t(a){return rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:j,payload:void 0}),t.next=3,$t.getComments(e).then(function(e){var t,n;a(e?(n=e.data,{type:R,payload:n}):(t=e.error,{type:A,payload:t}))});case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},ta=function(e,t,a){return function(){var n=Object(ot.a)(rt.a.mark(function n(r){var o,l;return rt.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=a.body,l=o.body,r({type:T}),n.next=5,$t.editComments(e,t,l).then(function(e){var t;r(e?(t=e.data,{type:k,payload:t}):{type:N,payload:e})});case 5:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},aa=a(830),na=a(817),ra=function(e,t){return function(){var a=Object(ot.a)(rt.a.mark(function a(n){return rt.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:P}),a.next=3,$t.deleteComment(e,t).then(function(e){var t;n(e?(t=e.data,{type:U,payload:t}):{type:D,payload:e})});case 3:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},oa=function(e){function t(){var e,a;Object(oe.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ie.a)(this,(e=Object(ce.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){a.setState(Object(Pe.a)({},e.target.name,e.target.value))},a.handleUpdate=function(e){var t=a.props,n=t.updateComment,r=t.commentId,o=t.articleSlug;e.preventDefault(),n(o,r,{body:Object(h.a)({},a.state)})},a}return Object(se.a)(t,e),Object(le.a)(t,[{key:"render",value:function(){var e=this.props,t=e.commentDetails,a=e.handleClose;return l.a.createElement("div",{id:"update-comment-section"},l.a.createElement(xe.a,{basic:!0},l.a.createElement(Fe.a,{reply:!0},l.a.createElement("div",{id:"update-text-section"},l.a.createElement("p",{id:"delete-popup-text"},"Update Comment ?")),l.a.createElement(Fe.a.TextArea,{onChange:this.onChange,name:"body",id:"update-comment-area"},t),l.a.createElement(he.a.Group,null,l.a.createElement(he.a,{id:"cancel-comment-button",content:"Cancel",primary:!0,onClick:a}),l.a.createElement(he.a,{id:"update-popup-button",content:"Update",primary:!0,onClick:this.handleUpdate,loading:ta.isUpdating})))))}}]),t}(o.Component),la=Object(p.connect)(function(e){return{updateComment:e.updateComment}},function(e){return Object(i.bindActionCreators)({updateComment:ta},e)})(oa),ia=function(e,t,a){return function(){var n=Object(ot.a)(rt.a.mark(function n(r){return rt.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:F}),n.next=3,$t.replyComment(e,t,a).then(function(e){var t;r(e?(t=e.data,{type:x,payload:t}):{type:G,payload:e})});case 3:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},ca=function(e){function t(){var e,a;Object(oe.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ie.a)(this,(e=Object(ce.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){a.setState(Object(Pe.a)({},e.target.name,e.target.value))},a.handleReply=function(e){var t=a.props,n=t.replyComment,r=t.commentId,o=t.articleSlug;e.preventDefault(),n(o,r,Object(h.a)({},a.state))},a}return Object(se.a)(t,e),Object(le.a)(t,[{key:"render",value:function(){var e=this.props.handleClose;return l.a.createElement("div",{id:"reply-comment-section"},l.a.createElement(xe.a,{basic:!0},l.a.createElement(Fe.a,{reply:!0},l.a.createElement("div",{id:"reply-text-section"},l.a.createElement("p",{id:"reply-text"}," reply ?")),l.a.createElement(Fe.a.TextArea,{onChange:this.onChange,name:"body",id:"reply-comment-area"}),l.a.createElement(he.a.Group,null,l.a.createElement(he.a,{id:"cancel-comment-button",content:"Cancel",primary:!0,onClick:e}),l.a.createElement(he.a,{id:"update-popup-button",content:"Reply",primary:!0,onClick:this.handleReply})))))}}]),t}(o.Component),sa=Object(p.connect)(function(e){return{replyComment:e.replyComment}},function(e){return Object(i.bindActionCreators)({replyComment:ia},e)})(ca),ua=localStorage.getItem("username"),pa=function(e){function t(){var e,a;Object(oe.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ie.a)(this,(e=Object(ce.a)(t)).call.apply(e,[this].concat(r)))).state={isUpdatePopUpOpen:!1,isDeletePopUpOpen:!1,collapsed:!0,isReplyPopUpOpen:!1},a.handleCheckbox=function(e,t){var n=t.checked;return a.setState({collapsed:n})},a.handleUpdateOpen=function(){a.setState({isUpdatePopUpOpen:!0,isDeletePopUpOpen:!1})},a.handleReplyOpen=function(){a.setState({isReplyPopUpOpen:!0})},a.handleReplyClose=function(){a.setState({isReplyPopUpOpen:!1})},a.handleUpdateClose=function(){a.setState({isUpdatePopUpOpen:!1,isDeletePopUpOpen:!1})},a.handleClose=function(){a.setState({isUpdatePopUpOpen:!1,isDeletePopUpOpen:!1})},a.handleDeleteOpen=function(){a.setState({isUpdatePopUpOpen:!1,isDeletePopUpOpen:!0})},a.handleDeleteClose=function(){a.setState({isUpdatePopUpOpen:!1,isDeletePopUpOpen:!1})},a.handleDelete=function(e){var t=a.props.comment,n={articleSlug:a.props.slug,commentId:t.id};a.props.deleteComment(n)},a}return Object(se.a)(t,e),Object(le.a)(t,[{key:"render",value:function(){var e=this.state,t=e.isUpdatePopUpOpen,a=e.isDeletePopUpOpen,n=e.isReplyPopUpOpen,r=e.collapsed,o=this.props.comment;return this.props.comments.isFetched?l.a.createElement(Xt.a,null,l.a.createElement(Xt.a.Avatar,{id:"avatar",src:"https://react.semantic-ui.com/images/avatar/small/matt.jpg"}),l.a.createElement(Xt.a.Content,null,l.a.createElement(Xt.a.Author,{id:"author",as:"a"},o.author),l.a.createElement(Xt.a.Metadata,{id:"date"},l.a.createElement("div",null,o.created_at)),l.a.createElement(Xt.a.Text,{className:"comment-body"},o.body),l.a.createElement(Xt.a.Actions,null,o.author===ua?l.a.createElement(aa.a,{id:"update-comment-body",trigger:l.a.createElement(Xt.a.Action,null,l.a.createElement(he.a,{icon:"pencil alternate"})),content:l.a.createElement(la,{commentId:o.id,commentDetails:o.body,handleClose:this.handleUpdateClose,articleSlug:this.props.slug}),on:"click",open:t,onClose:this.handleClose,onOpen:this.handleUpdateOpen,verticalOffset:45,position:"top left"}):null,o.author===ua?l.a.createElement(aa.a,{id:"delete-comment-body",trigger:l.a.createElement(Xt.a.Action,null,l.a.createElement(he.a,{icon:"trash alternate"})),content:l.a.createElement(Fe.a,{reply:!0},l.a.createElement("div",{id:"delete-text-section"},l.a.createElement("p",{id:"delete-popup-text"},"Delete Comment ?")),l.a.createElement(he.a.Group,null,l.a.createElement(he.a,{id:"cancel-comment-button",content:"Cancel",primary:!0,onClick:this.handleDeleteClose}),l.a.createElement(he.a,{id:"delete-comment-button",content:"Delete",primary:!0,onClick:this.handleDelete,loading:ra.isDeleting}))),on:"click",open:a,onClose:this.handleDeleteClose,onOpen:this.handleDeleteOpen,verticalOffset:45,position:"top left"}):null),l.a.createElement(Xt.a.Actions,null,l.a.createElement(aa.a,{id:"update-comment-body",trigger:l.a.createElement(Xt.a.Action,null,"Reply"),content:l.a.createElement(sa,{commentId:o.id,handleClose:this.handleReplyClose,articleSlug:this.props.slug}),on:"click",open:n,onClose:this.handleClose,onOpen:this.handleReplyOpen,verticalOffset:45,position:"top left"}),l.a.createElement(Xt.a.Action,null,l.a.createElement(na.a,{defaultChecked:!0,label:"view replies",onChange:this.handleCheckbox})),l.a.createElement(Xt.a.Group,{collapsed:r},o.threads.map(function(e){return l.a.createElement(Xt.a.Text,null,e.author,":",e.body)}))))):l.a.createElement("div",null,"Comments loading...")}}]),t}(l.a.Component),da=Object(p.connect)(function(e){return{comments:e.getcomments}},{fetchComments:ea,updateComment:ta,deleteComment:ra})(pa),ma=function(e){function t(e){var a;return Object(oe.a)(this,t),(a=Object(ie.a)(this,Object(ce.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.createComment(a.props.slug,e.target.commentArea.value)},e.fetchComments(e.slug),a}return Object(se.a)(t,e),Object(le.a)(t,[{key:"render",value:function(){var e=this;return this.props.comments.isFetched?l.a.createElement(Xt.a.Group,null,l.a.createElement(De.a,{as:"h3",dividing:!0},"Comments"),l.a.createElement(Fe.a,{reply:!0,onSubmit:this.handleSubmit},l.a.createElement(Fe.a.TextArea,{id:"comment-field",name:"commentArea",placeholder:"Add your comment here",required:!0}),l.a.createElement(he.a,{id:"comment",type:"submit",content:"Add Comment",labelPosition:"right",icon:"edit",primary:!0})),this.props.comments.comments.comment.map(function(t){return l.a.createElement(da,{comment:t,key:t.id,slug:e.props.slug})})):l.a.createElement("div",null,"Comments loading...")}}]),t}(l.a.Component),fa=Object(p.connect)(function(e){return{comments:e.getcomments}},{fetchComments:ea,createComment:function(e,t){return function(){var a=Object(ot.a)(rt.a.mark(function a(n){return rt.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:_}),a.next=3,$t.createComment(e,t).then(function(e){var t;n(e?(t=e.data,{type:L,payload:t}):{type:I,payload:e})});case 3:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},updateComment:ta})(ma),ha=a(837),ga=function(e){function t(e){var a;Object(oe.a)(this,t),(a=Object(ie.a)(this,Object(ce.a)(t).call(this,e))).handleChange=function(e,t){var n=t.rating;a.props.rateArticles(n,a.slug)};var n=window.location.href.split("/");return a.slug=n[n.length-1],a}return Object(se.a)(t,e),Object(le.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"rating"},l.a.createElement(ha.a,{name:"stars",icon:"star",maxRating:5,size:"massive",onRate:this.handleChange}))}}]),t}(o.Component),Ea=Object(p.connect)(function(e){return{article:e.rate}},{rateArticles:function(e,t){return function(a){a({type:"ARTICLES_RATING_TRIGGER"}),Ce.post("/api/articles/".concat(t,"/ratings/"),{stars:e}).then(function(e){a({type:"ARTICLES_RATING_SUCCESS",payload:e.data}),Ce.get("/api/articles/".concat(t)).then(function(e){a(Wt(e.data.article))}).catch(function(e){console.log(e),a(Jt(e.response.data.article.errors.error)),m.toastr.error("Article not found",e.response.data.article.errors.error)})}).catch(function(e){a({type:"ARTICLES_RATING_FAILED",payload:e})})}}})(ga),va=function(e){function t(e){var a;Object(oe.a)(this,t),(a=Object(ie.a)(this,Object(ce.a)(t).call(this,e))).componentDidUpdate=function(){var e=a.props.article,t=e.isSuccess,n=e.articles;if(t&&a.update){var r=zt()(JSON.parse(n.body));document.getElementById("single-article-container").innerHTML=r,a.update=!1}},a.handleDelete=function(e){e.preventDefault(),a.props.deleteArticle(a.slug)},a.handleLike=function(){a.props.likeArticle(a.slug)},a.handleDislike=function(){a.props.dislikeArticle(a.slug)},a.update=!0;var n=window.location.href.split("/");return a.slug=n[n.length-1],a.props.article.isTriggered||a.props.fetchSingleArticle(a.slug),a}return Object(se.a)(t,e),Object(le.a)(t,[{key:"render",value:function(){var e=this,t=this.props.article,a=t.isLoading,n=t.isSuccess,r=t.isDeleted,o=t.isFound,i=t.articles;if(a)return l.a.createElement(Te,null);var c=window.localStorage.getItem("token");return r&&!o?l.a.createElement(bt.a,{to:"/"}):l.a.createElement("div",{className:"container",id:"article-holder"},l.a.createElement("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"}),l.a.createElement(xe.a,null,n?l.a.createElement("div",null,localStorage.getItem("username")===i.author?l.a.createElement("div",{className:"button-controls"},l.a.createElement("a",{href:"edit/".concat(this.slug),className:"float-e"},l.a.createElement("i",{className:"fa fa-pencil float-edit"})),l.a.createElement("a",{href:"delete/".concat(this.slug),onClick:this.handleDelete,className:"float-t"},l.a.createElement("i",{className:"fa fa-trash float-trash"}))):null,l.a.createElement("h2",{className:"art-title"},i.title),l.a.createElement("h6",null,"Authored by"," ",l.a.createElement("b",null,i.author)," ","on"," ",l.a.createElement("b",null,i.created_at)),l.a.createElement("h3",null,l.a.createElement("em",null,'"',i.description,'"'))):null,l.a.createElement("div",{className:"cover-image"}),l.a.createElement("div",{id:"single-article-container"})),n?l.a.createElement(Kt,{handleLike:this.handleLike,handleDislike:this.handleDislike}):null,l.a.createElement("br",null),i&&i.tags.map(function(e){return l.a.createElement(Ae.a,{as:"a",className:"article-tags",tag:!0},e)}),l.a.createElement("div",null,c?l.a.createElement("div",null,n?l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",null,localStorage.getItem("username")===i.author?null:l.a.createElement(Ea,null)),l.a.createElement("div",{className:"avrgRating"},l.a.createElement("br",null),l.a.createElement("h6",null,"Avg. Rating"),l.a.createElement("i",{className:"fa fa-star",id:"avgRating"}),l.a.createElement("h5",{id:"averageRating",className:"art-avgRating"},i.averageRating))):null):l.a.createElement("div",null,n?l.a.createElement("div",{className:"avrgRating"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h6",null,"Avg. Rating"),l.a.createElement("i",{className:"fa fa-star",id:"avgRating"}),l.a.createElement("h5",{className:"art-avgRating"},i.averageRating)):null)),n?l.a.createElement(fa,{slug:this.slug,deleteComment:function(t){return e.props.deleteComment(t)}}):null)}}]),t}(o.Component),ba=Object(p.connect)(function(e){return{article:e.article}},{fetchSingleArticle:Qt,deleteArticle:function(e){return function(t){t({type:"START_DELETE"}),Ce.delete("/api/articles/".concat(e,"/")).then(function(e){t({type:"DELETE_SUCCESS",payload:e.data}),m.toastr.success("Article Deleted Successfully")}).catch(function(e){t({type:"DELETE_FAILED",payload:e.response}),m.toastr.error(e.response.data.article.errors.error)})}},likeArticle:function(e){return function(t){Ce.put("/api/articles/".concat(e,"/like/")).then(function(e){t(Wt(e.data))}).catch(function(e){switch(e.response.status){case 403:m.toastr.info("We are glad you like it. You just need to login to communicate your like");break;default:m.toastr.error("Retry again, could not work")}})}},dislikeArticle:function(e){return function(t){Ce.put("/api/articles/".concat(e,"/dislike/")).then(function(e){t(Wt(e.data))}).catch(function(e){switch(e.response.status){case 403:m.toastr.info("You just need to login to communicate your dislike");break;default:m.toastr.error("Retry again, could not work")}})}},deleteComment:ra})(va),ya=a(186),Ca=a(69),wa=a(818),Oa=(a(386),function(e){function t(e){var a;Object(oe.a)(this,t),(a=Object(ie.a)(this,Object(ce.a)(t).call(this,e))).componentDidMount=function(){!1===a.props.article.isTriggered&&a.props.fetchSingleArticle(a.slug)},a.componentDidUpdate=function(){var e=a.props.article,t=e.isSuccess,n=e.articles;t&&a.update&&(a.setState({editorState:Ca.EditorState.createWithContent(Object(Ca.convertFromRaw)(JSON.parse(n.body)))}),a.update=!1)},a.onSubmit=function(e){var t=a.state.editorState;e.preventDefault();var n=JSON.stringify(Object(Ca.convertToRaw)(t.getCurrentContent())),r={title:e.target.title.value,description:e.target.description.value,body:n};a.props.updateArticle(r,a.slug)},a.uploadCallback=function(e){return new Promise(function(t,a){var n=new XMLHttpRequest;n.open("POST","https://api.imgur.com/3/image"),n.setRequestHeader("Authorization","Client-ID e97f36417525559");var r=new FormData;r.append("image",e),n.send(r),n.addEventListener("load",function(){var e=JSON.parse(n.responseText);t(e)}),n.addEventListener("error",function(){var e=JSON.parse(n.responseText);a(e)})})},a.onEditorStateChange=function(e){a.setState({editorState:e})},a.onChange=function(e){return a.setState(Object(Pe.a)({},e.target.name,e.target.value))},a.componentWillReceiveProps=function(e){e.article.isUpdated&&window.location.assign("/articles/".concat(a.slug))},a.state={editorState:Ca.EditorState.createEmpty()},a.update=!0;var n=window.location.href.split("/");return a.slug=n[n.length-1],a}return Object(se.a)(t,e),Object(le.a)(t,[{key:"render",value:function(){if(this.props.article.isLoading)return l.a.createElement("div",null,l.a.createElement(Te,null));var e=this.state.editorState,t=this.props.article,a=t.isSuccess,n=t.articles;return l.a.createElement("div",{className:"container",id:"edit-article-holder"},l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("h2",null,l.a.createElement(Fe.a.Input,{fluid:!0,name:"title",placeholder:"Title",transparent:!0,className:"editor-input",defaultValue:a?n.title:null,maxLength:100,onChange:this.onChange})),l.a.createElement(wa.a,null),l.a.createElement("h4",null,l.a.createElement(Fe.a.Input,{fluid:!0,name:"description",placeholder:"Description",transparent:!0,className:"description-input",defaultValue:a?n.description:null,maxLength:300,onChange:this.onChange})),l.a.createElement(wa.a,null),l.a.createElement(ya.Editor,{toolbarOnFocus:!0,placeholder:"The body of the article goes here...",editorState:e,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:this.onEditorStateChange,hashtag:{separator:" ",trigger:"#"},toolbar:{inline:{inDropdown:!0},list:{inDropdown:!0},textAlign:{inDropdown:!0},link:{inDropdown:!0},history:{inDropdown:!0},image:{uploadEnabled:!0,previewImage:!0,uploadCallback:this.uploadCallback}}}),l.a.createElement("input",{type:"submit",value:"Update Article",className:"btn btn-primary btn-lg",id:"submit"})))}}]),t}(o.Component)),Sa=Object(p.connect)(function(e){return{article:e.article}},{updateArticle:function(e,t){return function(a){a({type:"START_UPDATE"}),Ce.put("/api/articles/".concat(t,"/"),e).then(function(e){a({type:"UPDATE_SUCCESS",payload:e.data}),m.toastr.success("Update Successful")}).catch(function(e){a({type:"UPDATE_FAIL",payload:e.response}),m.toastr.error("Update Failed",e.response.data.message.detail)})}},fetchSingleArticle:Qt})(Oa),ja=a(422),Aa=a.n(ja),Ra=(a(804),function(e){function t(e){var a;Object(oe.a)(this,t),(a=Object(ie.a)(this,Object(ce.a)(t).call(this,e))).componentDidMount=function(){document.querySelector(".create-article").style.display="none"},a.handleChange=function(e){a.setState({tags:e})},a.uploadCallback=function(e){return new Promise(function(t,a){var n=new XMLHttpRequest;n.open("POST","https://api.imgur.com/3/image"),n.setRequestHeader("Authorization","Client-ID e97f36417525559");var r=new FormData;r.append("image",e),n.send(r),n.addEventListener("load",function(){var e=JSON.parse(n.responseText);t(e)}),n.addEventListener("error",function(){var e=JSON.parse(n.responseText);a(e)})})},a.onEditorStateChange=function(e){a.setState({editorState:e})},a.onSubmit=function(e){e.preventDefault();var t=a.state,n=t.title,r=t.description,o=t.image,l=void 0===o?e.target.image.files[0]:o,i=t.tags,c=t.editorState,s={title:n,description:r,body:JSON.stringify(Object(Ca.convertToRaw)(c.getCurrentContent())),image:l,tags:i};(0,a.props.createArticle)(s)},a.onChange=function(e){return a.setState(Object(Pe.a)({},e.target.name,e.target.value))};var n=a.props;return a.state=Object(h.a)({},n,{tags:[],editorState:Ca.EditorState.createEmpty()}),a}return Object(se.a)(t,e),Object(le.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.articles,a=e.history;t&&t.success&&a.push("articles/".concat(t.article.article.slug))}},{key:"render",value:function(){var e=this.state.editorState;return l.a.createElement("div",{id:"create-article-container"},l.a.createElement("form",{onSubmit:this.onSubmit,error:!0,className:"create-article-form",encType:"multipart/form-data"},l.a.createElement("h1",null,l.a.createElement(Fe.a.Input,{fluid:!0,name:"title",placeholder:"Title",transparent:!0,className:"editor-input",maxLength:100,onChange:this.onChange})),l.a.createElement(wa.a,null),l.a.createElement(Fe.a.Input,{fluid:!0,name:"description",placeholder:"Description",transparent:!0,className:"description-input",maxLength:300,onChange:this.onChange}),l.a.createElement(wa.a,null),l.a.createElement(Aa.a,{value:this.state.tags,onChange:this.handleChange}),l.a.createElement(wa.a,null),l.a.createElement("br",null),l.a.createElement(ya.Editor,{toolbarOnFocus:!0,placeholder:"The body of the article goes here...",body:e,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:this.onEditorStateChange,hashtag:{separator:" ",trigger:"#"},toolbar:{inline:{inDropdown:!0},list:{inDropdown:!0},textAlign:{inDropdown:!0},link:{inDropdown:!0},history:{inDropdown:!0},image:{uploadEnabled:!0,previewImage:!0,uploadCallback:this.uploadCallback}}}),l.a.createElement("input",{type:"submit",value:"Post",className:"btn btn-primary btn-lg",id:"submit"})))}}]),t}(o.Component)),La=Object(p.connect)(function(e){return{articles:e.article}},{createArticle:function(e){return function(t){t({type:"ARTICLES_CREATE_TRIGGER"}),Ce.post("/api/articles/",e).then(function(e){t({type:"ARTICLES_CREATE_SUCCESS",payload:e.data}),m.toastr.success("Article created successful!",e.data.article.title)}).catch(function(e){t({type:"ARTICLES_CREATE_FAILED",payload:e.response.data.error})})}}})(Ra),Ia=function(e){function t(){return Object(oe.a)(this,t),Object(ie.a)(this,Object(ce.a)(t).apply(this,arguments))}return Object(se.a)(t,e),Object(le.a)(t,[{key:"render",value:function(){return l.a.createElement(ue.a,null,l.a.createElement("div",null,l.a.createElement(Se,null),l.a.createElement(pe.a,null,l.a.createElement(de.a,{exact:!0,path:"/",component:Ne}),l.a.createElement(de.a,{exact:!0,path:"/login",component:Ke}),l.a.createElement(de.a,{exact:!0,path:"/register",component:Ct}),l.a.createElement(de.a,{exact:!0,path:"/verifymail",component:wt}),l.a.createElement(de.a,{exact:!0,path:"/verify/:token",component:St}),l.a.createElement(de.a,{exact:!0,path:"/getprofile",component:vt}),l.a.createElement(de.a,{exact:!0,path:"/edit-profile",component:ft}),l.a.createElement(de.a,{exact:!0,path:"/profiles",component:Ft}),l.a.createElement(de.a,{path:"/getprofile",component:vt}),l.a.createElement(de.a,{path:"/edit-profile",component:ft}),l.a.createElement(de.a,{exact:!0,path:"/reset-password",component:Mt}),l.a.createElement(de.a,{exact:!0,path:"/updatepassword",component:Yt}),l.a.createElement(de.a,{exact:!0,path:"/update_password/:token",component:Vt}),l.a.createElement(de.a,{exact:!0,path:"/articles/:slug",component:ba}),l.a.createElement(de.a,{exact:!0,path:"/articles/edit/:slug",component:Sa}),l.a.createElement(de.a,{exact:!0,path:"/article",component:La}))))}}]),t}(o.Component),_a=Object(i.createStore)(re,{},Object(d.composeWithDevTools)(Object(i.applyMiddleware)(c.a)));u.a.render(l.a.createElement(p.Provider,{store:_a},l.a.createElement(f.a,{timeOut:1e4,newestOnTop:!1,preventDuplicates:!0,position:"top-center",transitionIn:"fadeIn",transitionOut:"fadeOut",progressBar:!0,closeOnToastrClick:!0}),l.a.createElement(Ia,null)),document.getElementById("root"));t.default={profileReducer:{profile:{}},profiles:{users:[]},searchedProfile:{user:{}},getcomments:{comments:{}}}}},[[432,1,2]]]);
//# sourceMappingURL=main.5d9217a9.chunk.js.map